(this["webpackJsonpgame-meli"]=this["webpackJsonpgame-meli"]||[]).push([[0],{34:function(t,e,c){},35:function(t,e,c){"use strict";c.r(e);var n=c(1),r=c.n(n),a=c(18),i=c.n(a),s=c(8),o=c(2),j=c(4),u=c(0),l=Object(n.createContext)({}),d=function(t){var e=t.children,c=Object(n.useState)({site:{id:"",name:""},category:{id:"",name:""}}),r=Object(j.a)(c,2),a=r[0],i=r[1];return Object(u.jsx)(l.Provider,{value:{data:a,setData:i},children:e})},b=function(t){var e=Object(n.useState)(null),c=Object(j.a)(e,2),r=c[0],a=c[1],i=Object(o.g)(),s=i.idSite,u=i.idCategory;return Object(n.useEffect)((function(){(function(t,e){return fetch("https://api.mercadolibre.com/sites/".concat(e,"/search?category=").concat(t)).then((function(t){return t.json()}))})(u,s).then((function(e){var c=e.results;a(function(t,e){var c=function(){return Math.floor(Math.random()*t.length)},n=c();if(t.length!==e.length){for(;e.some((function(e){return e.permalink===t[n].permalink}));)n=c();return t[n]}}(c,t))}))}),[t,u,s]),{product:r}},O=function(t){var e=t.id,c=t.thumbnail,r=Object(n.useState)(null),a=Object(j.a)(r,2),i=a[0],s=a[1];return Object(n.useEffect)((function(){fetch("https://api.mercadolibre.com/products/".concat(e)).then((function(t){return t.json()})).then((function(t){return s(t.pictures)}))}),[e]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{className:"maingame_img",src:i?i[0].url:c,alt:c})})},h=c(14),m=function(t){var e=Object(n.useState)([]),c=Object(j.a)(e,2),r=c[0],a=c[1];return Object(n.useEffect)((function(){a(function(t){var e=20*t/100,c=[].concat([t+e,t+2*e,t+3*e,t+4*e],[t-e,t-2*e,t-3*e,t-4*e]).sort((function(){return Math.random()>.5?1:-1}));return[t].concat(Object(h.a)(c)).slice(0,3).sort((function(){return Math.random()>.5?1:-1}))}(t.price))}),[t]),{prices:r}},x=function(t){var e=t.setProducts,c=t.product,r=m(c).prices,a=c.price,i=c.permalink,s=Object(n.useState)(!1),o=Object(j.a)(s,2),l=o[0],d=o[1],b=Object(n.useState)(!1),O=Object(j.a)(b,2),x=O[0],f=O[1];return Object(u.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"5px"},children:[Object(u.jsx)("h2",{children:"Adivina el precio:"}),Object(u.jsx)("section",{className:"buttons_list",children:r.map((function(t){return Object(u.jsx)("button",{onClick:function(){t===a?(d(!0),setTimeout((function(){e((function(t){return[c].concat(Object(h.a)(t))})),d(!1)}),500)):(d(!0),f(!0))},disabled:l,className:"btn ".concat(l&&"btn-".concat(t===a?"success":"danger")),children:Math.trunc(t).toLocaleString("en-US",{style:"currency",currency:"USD"})},t)}))}),x&&Object(u.jsxs)("div",{className:"buttons_list",style:{gridTemplateColumns:"1fr 1fr"},children:[Object(u.jsx)("button",{className:"btn",onClick:function(){f(!1),d(!1),e([])},children:"Reiniciar"}),Object(u.jsx)("a",{className:"btn",href:i,target:"_blank",rel:"noreferrer",children:"Ver producto"})]})]})},f=function(t){var e=t.products,c=t.setProducts,r=Object(n.useContext)(l).data,a=r.site,i=r.category,o=b(e).product;return Object(u.jsxs)("div",{className:"game-card_container",children:[Object(u.jsxs)("nav",{className:"navbar_container",children:[Object(u.jsx)(s.b,{to:"/",children:Object(u.jsx)("img",{src:"/logo.png",alt:""})}),Object(u.jsxs)("p",{children:["Puntaje: ",e.length]})]}),void 0===o?Object(u.jsxs)("div",{className:"score-max",children:[Object(u.jsx)("p",{children:"Llegaste al puntaje maximo!"}),Object(u.jsx)(s.b,{className:"btn",to:"/",children:"Prueba con otra categoria"})]}):Object(u.jsxs)("main",{className:"maingame_content",children:[Object(u.jsxs)("div",{style:{width:"100%"},children:[Object(u.jsxs)("section",{className:"data_container",children:[Object(u.jsx)("p",{children:a.name}),Object(u.jsx)("p",{children:i.name})]}),Object(u.jsx)("h1",{className:"maingame_content_title",children:null===o||void 0===o?void 0:o.title})]}),Object(u.jsx)(O,{id:null===o||void 0===o?void 0:o.catalog_product_id,thumbnail:null===o||void 0===o?void 0:o.thumbnail}),o&&Object(u.jsx)(x,{setProducts:c,product:o})]})]})},p=function(t){var e=t.product,c=e.title,n=e.thumbnail,r=e.price,a=e.permalink;return Object(u.jsxs)("div",{className:"product-card_container",children:[Object(u.jsx)("img",{src:n,alt:c}),Object(u.jsxs)("section",{children:[Object(u.jsx)("p",{title:c,children:c.length>67?"".concat(c.slice(0,67),"..."):c}),Object(u.jsx)("h1",{children:r.toLocaleString("en-US",{style:"currency",currency:"USD"})}),Object(u.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:"Ver producto"})]})]})},g=function(t){var e=t.products;return Object(u.jsxs)("div",{className:"game-card_container",children:[Object(u.jsx)("nav",{className:"navbar_container",style:{justifyContent:"center"},children:Object(u.jsx)("p",{children:"Productos"})}),Object(u.jsx)("section",{className:"product-history_content",children:e.map((function(t,e){return Object(u.jsx)(p,{product:t},e)}))})]})},v=function(){var t=Object(n.useState)([]),e=Object(j.a)(t,2),c=e[0],r=e[1];return""===Object(n.useContext)(l).data.site.id?Object(u.jsx)(o.a,{to:"/"}):Object(u.jsxs)("main",{className:"game-container",children:[Object(u.jsx)(f,{products:c,setProducts:r}),Object(u.jsx)(g,{products:c})]})},y=c(12),N=function(t){var e=t.title,c=t.list,n=t.item,r=t.changeFunction;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:e}),Object(u.jsx)("div",{className:"select-data_container_options",children:c.map((function(t){return Object(u.jsx)("button",{onClick:function(){return r(t)},className:"".concat(t.id===n.id?"select-data_button-active":""),children:t.name},t.id)}))})]})},_=function(){var t=Object(n.useContext)(l),e=t.data,c=t.setData,r=function(t){var e=Object(n.useState)(null),c=Object(j.a)(e,2),r=c[0],a=c[1],i=Object(n.useState)(null),s=Object(j.a)(i,2),o=s[0],u=s[1];return Object(n.useEffect)((function(){fetch("https://api.mercadolibre.com/sites/").then((function(t){return t.json()})).then((function(t){return a(t)}))}),[]),Object(n.useEffect)((function(){""!==t.site.id&&fetch("https://api.mercadolibre.com/sites/".concat(t.site.id,"/categories")).then((function(t){return t.json()})).then((function(t){return u(t)}))}),[t]),{sites:r,categories:o}}(e),a=r.sites,i=r.categories,o=e.site,d=e.category;return a?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"select-data_container",children:[Object(u.jsx)("img",{src:"./logo.png",alt:"icon",style:{padding:"10px"}}),Object(u.jsx)(N,{title:"Selecciona tu pais",list:a,item:o,changeFunction:function(t){return c(Object(y.a)(Object(y.a)({},e),{},{site:t}))}}),i&&Object(u.jsx)(N,{title:"Selecciona una Categoria",list:i,item:d,changeFunction:function(t){return c(Object(y.a)(Object(y.a)({},e),{},{category:t}))}}),""!==o.id&&""!==d.id&&Object(u.jsx)(s.b,{className:"btn",to:"/site/".concat(o.id,"/category/").concat(d.id),children:"Comenzar a jugar!"})]})}):Object(u.jsx)("p",{children:"Load..."})},S=function(){return Object(u.jsx)(s.a,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{exact:!0,path:"/",component:_}),Object(u.jsx)(o.b,{exact:!0,path:"/site/:idSite/category/:idCategory",component:v}),Object(u.jsx)(o.a,{to:"/"})]})})},C=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(d,{children:Object(u.jsx)(S,{})})})};c(34);i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.7272ae21.chunk.js.map