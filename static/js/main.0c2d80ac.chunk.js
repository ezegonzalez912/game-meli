(this["webpackJsonpgame-meli"]=this["webpackJsonpgame-meli"]||[]).push([[0],{55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(22),s=n.n(a),i=n(11),o=n(2),u=n(3),l=n(9),j=n(5),b=n.n(j),d=n(23),h=n(10),f=function(){var e=Object(h.a)(b.a.mark((function e(t,n){var c,r,a,s,i,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],e.prev=1,r=Object(d.a)(t),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=21;break}return s=a.value,e.next=9,fetch("https://api.mercadolibre.com/sites/".concat(n,"/search?category=").concat(s));case 9:if(200!==(i=e.sent).status){e.next=18;break}return e.next=13,i.json();case 13:o=e.sent,u=o.results,c.push.apply(c,Object(l.a)(u)),e.next=19;break;case 18:404===i.status?console.log("404"):console.log("500");case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:return e.abrupt("return",c);case 32:return e.prev=32,e.t1=e.catch(1),console.log(e.t1),e.abrupt("return",c);case 36:case"end":return e.stop()}}),e,null,[[1,32],[3,23,26,29]])})));return function(t,n){return e.apply(this,arguments)}}(),p=n(16),O=n.n(p),m=function(e){var t=Object(c.useState)(null),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(o.i)(),i=s.idSite,j=s.idCategory,b=Object(o.h)(),d=Object(o.g)(),h=O.a.parse(b.search).q;return Object(c.useEffect)((function(){if(!h)return d.push("/");var t=Array.isArray(h)?Object(l.a)(h):[h];f(t,i).then((function(t){var n=function(e,t){var n=function(){return Math.floor(Math.random()*e.length)},c=n();if(e.length!==t.length){for(;t.some((function(t){return t.permalink===e[c].permalink}));)c=n();return e[c]}}(t,e);a(n)})).catch((function(e){return console.log(e)}))}),[e,j]),r},x=function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.mercadolibre.com/products/".concat(t));case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:404===n.status?console.log("Imagen del producto no encontrada"):console.log("500");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),g=n(1),v=function(e){var t=e.id,n=e.thumbnail,r=Object(c.useState)(null),a=Object(u.a)(r,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){x(t).then((function(e){return i(e?e.pictures:null)}))}),[t]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("img",{className:"maingame_img",src:s?s[0].url:n,alt:n})})},y=function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.mercadolibre.com/currencies/".concat(t));case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:404===n.status?console.log("404"):console.log("500");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.mercadolibre.com/sites/");case 3:if(200!==(t=e.sent).status){e.next=10;break}return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 10:404===t.status?console.log("404"):console.log("500");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.mercadolibre.com/sites/".concat(t,"/categories"));case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:404===n.status?console.log("404"):console.log("500");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.i)().idSite,t=Object(o.h)(),n=O.a.parse(t.search).q,r=Object(c.useState)({id:"",name:"",default_currency_id:""}),a=Object(u.a)(r,2),s=a[0],i=a[1],j=Object(c.useState)([]),b=Object(u.a)(j,2),d=b[0],h=b[1];return Object(c.useEffect)((function(){var t=Array.isArray(n)?Object(l.a)(n):[n];S().then((function(t){var n=t.filter((function(t){return t.id===e}));i(n[0])})),k(e).then((function(e){var n=e.filter((function(e){return t.includes(e.id)}));h(n)}))}),[]),{site:s,categories:d}},N=function(){var e=_().site,t=Object(c.useState)(null),n=Object(u.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){e&&""!==e.name&&y(e.default_currency_id).then((function(e){return a(e)}))}),[e]),r},w=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){a(function(e){var t=20*e/100,n=[].concat([e+t,e+2*t,e+3*t,e+4*t],[e-t,e-2*t,e-3*t,e-4*t]).sort((function(){return Math.random()>.5?1:-1}));return[e].concat(Object(l.a)(n)).slice(0,3).sort((function(){return Math.random()>.5?1:-1}))}(e.price))}),[e]),{prices:r}},C=function(e){var t=e.setProducts,n=e.product,r=w(n).prices,a=n.price,s=n.permalink,i=Object(c.useState)(!1),o=Object(u.a)(i,2),j=o[0],b=o[1],d=Object(c.useState)(!1),h=Object(u.a)(d,2),f=h[0],p=h[1],O=Object(c.useState)(null),m=Object(u.a)(O,2),x=m[0],v=m[1],y=N();return Object(g.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"5px"},children:[Object(g.jsx)("h2",{children:"Acierta el precio:"}),Object(g.jsx)("section",{className:"buttons_list",children:r.map((function(e,c){return Object(g.jsxs)("button",{id:"".concat(c),onClick:function(c){return function(e,c){e===a?(b(!0),setTimeout((function(){t((function(e){return[n].concat(Object(l.a)(e))})),b(!1)}),500)):(v(c.target.id),b(!0),p(!0))}(e,c)},disabled:j,className:"btn ".concat(j&&"btn-".concat(e===a?"success":"danger"),"\n                                            ").concat(x==="".concat(c)&&"btn-error"),children:[y&&y.symbol,Math.trunc(e).toLocaleString("en-US",{style:"currency",currency:"USD"}).slice(1,-1)]},e)}))}),f&&Object(g.jsxs)("div",{className:"buttons_list",style:{gridTemplateColumns:"1fr 1fr"},children:[Object(g.jsx)("button",{className:"btn",onClick:function(){v(null),p(!1),b(!1),t([])},children:"Seguir jugando"}),Object(g.jsx)("a",{className:"btn",href:s,target:"_blank",rel:"noreferrer",children:"Comprar"})]})]})},E=n.p+"static/media/logo.787f4505.png",M=n(26),P=function(e){var t=e.width,n=e.height;return Object(g.jsx)(M.a,{height:n,width:t,children:Object(g.jsx)("rect",{x:"0",y:"5",rx:"4",ry:"4",width:"100%",height:"100%"})})},A=function(e){var t=e.products,n=e.setProducts,c=Object(o.i)().idSite,r=_(),a=r.site,s=r.categories,u=m(t);return Object(g.jsxs)("div",{className:"game-card_container",children:[Object(g.jsxs)("nav",{className:"navbar_container",children:[Object(g.jsx)(i.b,{to:"/",children:Object(g.jsx)("img",{src:E,alt:"MercadoLibre-Logo"})}),Object(g.jsxs)("p",{children:["Puntaje: ",Object(g.jsx)("b",{children:t.length})]})]}),void 0===u?Object(g.jsxs)("div",{className:"score-max",children:[Object(g.jsx)("p",{children:"\xa1Llegaste al puntaje m\xe1ximo!"}),Object(g.jsx)(i.b,{className:"btn",to:"/site/".concat(c),children:"Prueba con otra categor\xeda"})]}):Object(g.jsxs)("main",{className:"maingame_content",children:[Object(g.jsxs)("div",{style:{width:"100%"},children:[Object(g.jsxs)("section",{className:"data_container",children:[Object(g.jsx)("p",{children:a.name}),s.map((function(e){return Object(g.jsx)("p",{children:e.name},e.id)}))]}),u?Object(g.jsx)("h1",{className:"maingame_content_title",children:null===u||void 0===u?void 0:u.title}):Object(g.jsx)(P,{height:"25",width:"100%"})]}),u?Object(g.jsx)(v,{id:null===u||void 0===u?void 0:u.catalog_product_id,thumbnail:null===u||void 0===u?void 0:u.thumbnail}):Object(g.jsx)(P,{height:"300",width:"100%"}),u?Object(g.jsx)(C,{setProducts:n,product:u}):Object(g.jsx)(P,{height:"60",width:"100%"})]})]})},L=function(e){var t=e.product,n=t.title,c=t.thumbnail,r=t.price,a=t.permalink,s=N();return Object(g.jsxs)("div",{className:"product-card_container",children:[Object(g.jsx)("img",{src:c,alt:n}),Object(g.jsxs)("section",{children:[Object(g.jsx)("p",{title:n,children:n.length>67?"".concat(n.slice(0,67),"..."):n}),Object(g.jsx)("h1",{children:s&&s.symbol+Math.trunc(r).toLocaleString("en-US",{style:"currency",currency:"USD"}).slice(1,-1)}),Object(g.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:"Comprar"})]})]})},q=function(e){var t=e.products;return Object(g.jsxs)("div",{className:"game-card_container",children:[Object(g.jsx)("nav",{className:"navbar_container",style:{justifyContent:"center"},children:Object(g.jsx)("p",{children:"Productos"})}),Object(g.jsx)("section",{className:"product-history_content",children:t.length>0?t.map((function(e,t){return Object(g.jsx)(L,{product:e},t)})):Object(g.jsx)("p",{style:{textAlign:"center",marginTop:"25px"},children:"~ Comienza a jugar ~"})})]})},U=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(g.jsxs)("main",{className:"game-container",children:[Object(g.jsx)(A,{products:n,setProducts:r}),Object(g.jsx)(q,{products:n})]})},D=function(){var e=Object(o.g)(),t=Object(o.i)().idSite,n=Object(c.useState)([]),r=Object(u.a)(n,2),a=r[0],s=r[1],j=function(){var e=Object(o.i)().idSite,t=Object(c.useState)(null),n=Object(u.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){k(e).then((function(e){return a(e.sort((function(e,t){return e.name>t.name?1:-1})))}))}),[e]),r}();return j?Object(g.jsxs)("div",{className:"select-data_container",children:[Object(g.jsx)("img",{src:E,alt:"icon",style:{padding:"10px"}}),Object(g.jsx)("h1",{children:"Selecciona un m\xe1ximo 3 categor\xedas"}),Object(g.jsx)("div",{className:"select-data_container_options",children:j.map((function(e){return Object(g.jsx)("button",{className:"".concat(a.includes(e)?"select-data_button-active":""),onClick:function(){return function(e){a.length<3&&s([].concat(Object(l.a)(a),[e])),a.includes(e)&&s(a.filter((function(t){return t!==e})))}(e)},children:e.name},e.id)}))}),0===a.length?Object(g.jsx)(i.b,{className:"btn",to:"/",children:"Seleccionar pa\xeds"}):Object(g.jsx)("button",{className:"btn",onClick:function(){var n="/site/".concat(t,"/categories?");a.map((function(e,t){return n=0===t?"".concat(n,"q=").concat(e.id):"".concat(n,"&q=").concat(e.id)})),e.push(n)},children:"\xa1Comenzar a jugar!"})]}):null},T=function(){var e=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){S().then((function(e){r(e.sort((function(e,t){return e.name>t.name?1:-1})))}))}),[]),n}();return e?Object(g.jsxs)("div",{className:"select-data_container",children:[Object(g.jsx)("img",{src:E,alt:"icon",style:{padding:"10px"}}),Object(g.jsx)("h1",{children:"Selecciona tu pa\xeds"}),Object(g.jsx)("div",{className:"select-data_container_options",children:e.map((function(e){return Object(g.jsx)(i.b,{to:"/".concat(e.id),children:e.name},e.id)}))})]}):null},z=function(){return Object(g.jsx)(i.a,{children:Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{exact:!0,path:"/",component:T}),Object(g.jsx)(o.b,{exact:!0,path:"/:idSite/",component:D}),Object(g.jsx)(o.b,{exact:!0,path:"/site/:idSite/categories",component:U}),Object(g.jsx)(o.a,{to:"/"})]})})},I=function(){return Object(g.jsx)(z,{})};n(55);s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(I,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.0c2d80ac.chunk.js.map